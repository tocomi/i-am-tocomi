---
import { Image } from 'astro:assets'
import portrait from '@/assets/portrait.jpg'

type Props = {
  size: number
}

const { size } = Astro.props
// NOTE: 画像サイズに合わせてボーダー幅を調整
const borderWidth = Math.max(1, Math.round(size * 0.025))
---

<div
  class="portrait-wrapper"
  style={`--size: ${size}px; --border-width: ${borderWidth}px`}
  transition:name="portrait"
>
  <Image
    src={portrait}
    alt="Portrait"
    width={size}
    height={size}
    class="rounded-full"
  />
</div>

<style>
  .portrait-wrapper {
    width: var(--size);
    height: var(--size);
    padding: var(--border-width);
    border-radius: 9999px;
    background: linear-gradient(90deg, purple, orange);
    display: inline-block;
  }

  .portrait-wrapper :global(img) {
    display: block;
    object-fit: cover;
  }
</style>
