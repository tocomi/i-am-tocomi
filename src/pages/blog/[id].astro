---
import { getCollection, render } from 'astro:content'
import Layout from '@/layouts/layout.astro'

export async function getStaticPaths() {
  const posts = await getCollection('blog')
  return posts.map(post => ({
    params: { id: post.id },
    props: { post },
  }))
}

const { post } = Astro.props
const { Content } = await render(post)
---

<Layout title={post.data.title}>
  <h1 class="text-3xl font-bold mb-4">{post.data.title}</h1>
  <div class="prose prose-lg custom-md">
    <Content />
  </div>
</Layout>

<style is:global>
  .custom-md h2 {
    font-size: 1.5rem;
    font-weight: bold;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .custom-md h3 {
    font-size: 1.25rem;
    font-weight: bold;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
  }

  .custom-md a {
    color: #3b82f6;
    text-decoration: underline;
  }

  .custom-md a:hover {
    opacity: 0.8;
  }

  .custom-md p {
    margin-bottom: 0.5rem;
  }
</style>
